{% extends "app/layout.html" %}

{% block content %}

<header>
    <div class="row">
        <div class="col-sm-12 text-center">
            <h1><strong>Welcome to blablabla</strong></h1>
            <h3>This webapp makes it possible to do ploploploplop...</h3>
            <h4>Simply make your selection and hit <mark>Go</mark> to get results</h4>
        </div>
    </div>
</header>

<br />

<section>
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-sm-offset-1">
            <div class="well well-lg">
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="inputField">Working field</label>
                    <div class="col-sm-8">
                        <select class="form-control" id="inputField"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="inputGrade">Education grade</label>
                    <div class="col-sm-8">
                        <select class="form-control" id="inputGrade"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="inputProvince">Province of residency</label>
                    <div class="col-sm-8">
                        <select class="form-control" id="inputProvince"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="inputAgeGroup">Age group</label>
                    <div class="col-sm-8">
                        <select class="form-control" id="inputAgeGroup"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Gender</label>
                    <div class="col-sm-8" id="inputGenders"></div>
                </div>
                <hr />
                <div class="form-group">
                    <div class="col-sm-12 text-center">
                        <button type="submit" class="btn btn-primary">Go Score That</button>
                    </div>
                </div>
            </form>
            </div>
        </div>
    </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
    $(function () {
        
        $.getJSON("/searchFilers", function (data) {

            var fields = data.fields;
            var grades = data.grades;
            var provinces = data.provinces;
            var ages = data.ages;
            var genders = data.sex;

            $.each(fields, function (key, value) {
                var sOption = "<option value=" + key + ">" + value + "</option>";
                $("#inputField").append(sOption);
            });

            $.each(grades, function (key, value) {
                var sOption = "<option value=" + key + ">" + value + "</option>";
                $("#inputGrade").append(sOption);
            });

            $.each(provinces, function (key, value) {
                var sOption = "<option value=" + key + ">" + value + "</option>";
                $("#inputProvince").append(sOption);
            });

            $.each(ages, function (key, value) {
                var sOption = "<option value=" + key + ">" + value + "</option>";
                $("#inputAgeGroup").append(sOption);
            });

            $.each(genders, function (key, value) {
                var sOption = 
                            "<label class='radio-inline'>" +
                                "<input type='radio' name='radioGender' value='" + key + "'>" + value +
                            "</label>";
                $("#inputGenders").append(sOption);
            });

        });

    });
</script>

{% endblock %}
